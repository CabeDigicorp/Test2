/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.170.0/examples/jsm/helpers/LightProbeHelperGPU.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Mesh,NodeMaterial,SphereGeometry}from"three";import{float,Fn,getShIrradianceAt,normalWorld,uniformArray,uniform,vec4}from"three/tsl";class LightProbeHelper extends Mesh{constructor(e,t=1){const i=uniformArray(e.sh.coefficients),r=uniform(e.intensity),s=float(1/Math.PI),o=Fn((()=>{const e=getShIrradianceAt(normalWorld,i),t=s.mul(e).mul(r);return vec4(t,1)}))(),h=new NodeMaterial;h.fragmentNode=o;super(new SphereGeometry(1,32,16),h),this.lightProbe=e,this.size=t,this.type="LightProbeHelper",this._intensity=r,this._sh=i,this.onBeforeRender()}dispose(){this.geometry.dispose(),this.material.dispose()}onBeforeRender(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this._intensity.value=this.lightProbe.intensity,this._sh.array=this.lightProbe.sh.coefficients}}export{LightProbeHelper};
//# sourceMappingURL=/sm/d544e961eafe803f07d7fca83a4a222898d4ddad4dc267ed55edc09c28daeaa2.map