/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.160.1/examples/jsm/renderers/common/RenderObjects.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import ChainMap from"./ChainMap.js";import RenderObject from"./RenderObject.js";class RenderObjects{constructor(e,t,i,s,n,r){this.renderer=e,this.nodes=t,this.geometries=i,this.pipelines=s,this.bindings=n,this.info=r,this.chainMaps={}}get(e,t,i,s,n,r,h){const a=this.getChainMap(h),d=[e,t,r,n];let o=a.get(d);return void 0===o?(o=this.createRenderObject(this.nodes,this.geometries,this.renderer,e,t,i,s,n,r,h),a.set(d,o)):(o.version!==t.version||o.needsUpdate)&&(o.initialCacheKey!==o.getCacheKey()?(o.dispose(),o=this.get(e,t,i,s,n,r,h)):o.version=t.version),o}getChainMap(e="default"){return this.chainMaps[e]||(this.chainMaps[e]=new ChainMap)}dispose(){this.chainMaps={}}createRenderObject(e,t,i,s,n,r,h,a,d,o){const p=this.getChainMap(o),c=new RenderObject(e,t,i,s,n,r,h,a,d);return c.onDispose=()=>{this.pipelines.delete(c),this.bindings.delete(c),this.nodes.delete(c),p.delete(c.getChainArray())},c}}export default RenderObjects;
//# sourceMappingURL=/sm/456cd1848b197505f21e86d9a1024e3790b68d346c91f7d322b3b9e79749635e.map