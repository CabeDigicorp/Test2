/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.160.1/examples/jsm/renderers/common/RenderObject.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
let id=0;export default class RenderObject{constructor(e,t,i,s,r,n,h,o,a){this._nodes=e,this._geometries=t,this.id=id++,this.renderer=i,this.object=s,this.material=r,this.scene=n,this.camera=h,this.lightsNode=o,this.context=a,this.geometry=s.geometry,this.version=r.version,this.attributes=null,this.pipeline=null,this.vertexBuffers=null,this.initialNodesCacheKey=this.getNodesCacheKey(),this.initialCacheKey=this.getCacheKey(),this._nodeBuilderState=null,this._bindings=null,this.onDispose=null,this.isRenderObject=!0,this.onMaterialDispose=()=>{this.dispose()},this.material.addEventListener("dispose",this.onMaterialDispose)}getNodeBuilderState(){return this._nodeBuilderState||(this._nodeBuilderState=this._nodes.getForRender(this))}getBindings(){return this._bindings||(this._bindings=this.getNodeBuilderState().createBindings())}getIndex(){return this._geometries.getIndex(this)}getChainArray(){return[this.object,this.material,this.context,this.lightsNode]}getAttributes(){if(null!==this.attributes)return this.attributes;const e=this.getNodeBuilderState().nodeAttributes,t=this.geometry,i=[],s=new Set;for(const r of e){const e=r.node&&r.node.attribute?r.node.attribute:t.getAttribute(r.name);i.push(e);const n=e.isInterleavedBufferAttribute?e.data:e;s.add(n)}return this.attributes=i,this.vertexBuffers=Array.from(s.values()),i}getVertexBuffers(){return null===this.vertexBuffers&&this.getAttributes(),this.vertexBuffers}getMaterialCacheKey(){const{object:e,material:t}=this;let i=t.customProgramCacheKey();for(const e in t){if(/^(is[A-Z])|^(visible|version|uuid|name|opacity|userData)$/.test(e))continue;let s=t[e];if(null!==s){const e=typeof s;"number"===e?s=0!==s?"1":"0":"object"===e&&(s="{}")}i+=s+","}return e.skeleton&&(i+=e.skeleton.uuid+","),e.morphTargetInfluences&&(i+=e.morphTargetInfluences.length+","),i}get needsUpdate(){return this.initialNodesCacheKey!==this.getNodesCacheKey()}getNodesCacheKey(){return this._nodes.getCacheKey(this.scene,this.lightsNode)}getCacheKey(){return this.getMaterialCacheKey()+","+this.getNodesCacheKey()}dispose(){this.material.removeEventListener("dispose",this.onMaterialDispose),this.onDispose()}}
//# sourceMappingURL=/sm/8c764b6f37c1be6cdb14e62525425901d5aa14b9bf585b89254fdc8e2383971e.map