/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.170.0/examples/jsm/tsl/display/DepthOfFieldNode.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{convertToTexture,TempNode,nodeObject,Fn,NodeUpdateType,uv,uniform,vec2,vec4,clamp}from"three/tsl";class DepthOfFieldNode extends TempNode{static get type(){return"DepthOfFieldNode"}constructor(d,e,u,a,l){super(),this.textureNode=d,this.viewZNode=e,this.focusNode=u,this.apertureNode=a,this.maxblurNode=l,this._aspect=uniform(0),this.updateBeforeType=NodeUpdateType.FRAME}updateBefore(){const d=this.textureNode.value;this._aspect.value=d.image.width/d.image.height}setup(){const d=this.textureNode,e=d.uvNode||uv(),u=e=>d.uv(e);return Fn((()=>{const d=vec2(1,this._aspect),a=this.focusNode.add(this.viewZNode),l=vec2(clamp(a.mul(this.apertureNode),this.maxblurNode.negate(),this.maxblurNode)),m=l.mul(.9),t=l.mul(.7),c=l.mul(.4);let v=vec4(0);return v=v.add(u(e)),v=v.add(u(e.add(vec2(0,.4).mul(d).mul(l)))),v=v.add(u(e.add(vec2(.15,.37).mul(d).mul(l)))),v=v.add(u(e.add(vec2(.29,.29).mul(d).mul(l)))),v=v.add(u(e.add(vec2(-.37,.15).mul(d).mul(l)))),v=v.add(u(e.add(vec2(.4,0).mul(d).mul(l)))),v=v.add(u(e.add(vec2(.37,-.15).mul(d).mul(l)))),v=v.add(u(e.add(vec2(.29,-.29).mul(d).mul(l)))),v=v.add(u(e.add(vec2(-.15,-.37).mul(d).mul(l)))),v=v.add(u(e.add(vec2(0,-.4).mul(d).mul(l)))),v=v.add(u(e.add(vec2(-.15,.37).mul(d).mul(l)))),v=v.add(u(e.add(vec2(-.29,.29).mul(d).mul(l)))),v=v.add(u(e.add(vec2(.37,.15).mul(d).mul(l)))),v=v.add(u(e.add(vec2(-.4,0).mul(d).mul(l)))),v=v.add(u(e.add(vec2(-.37,-.15).mul(d).mul(l)))),v=v.add(u(e.add(vec2(-.29,-.29).mul(d).mul(l)))),v=v.add(u(e.add(vec2(.15,-.37).mul(d).mul(l)))),v=v.add(u(e.add(vec2(.15,.37).mul(d).mul(m)))),v=v.add(u(e.add(vec2(-.37,.15).mul(d).mul(m)))),v=v.add(u(e.add(vec2(.37,-.15).mul(d).mul(m)))),v=v.add(u(e.add(vec2(-.15,-.37).mul(d).mul(m)))),v=v.add(u(e.add(vec2(-.15,.37).mul(d).mul(m)))),v=v.add(u(e.add(vec2(.37,.15).mul(d).mul(m)))),v=v.add(u(e.add(vec2(-.37,-.15).mul(d).mul(m)))),v=v.add(u(e.add(vec2(.15,-.37).mul(d).mul(m)))),v=v.add(u(e.add(vec2(.29,.29).mul(d).mul(t)))),v=v.add(u(e.add(vec2(.4,0).mul(d).mul(t)))),v=v.add(u(e.add(vec2(.29,-.29).mul(d).mul(t)))),v=v.add(u(e.add(vec2(0,-.4).mul(d).mul(t)))),v=v.add(u(e.add(vec2(-.29,.29).mul(d).mul(t)))),v=v.add(u(e.add(vec2(-.4,0).mul(d).mul(t)))),v=v.add(u(e.add(vec2(-.29,-.29).mul(d).mul(t)))),v=v.add(u(e.add(vec2(0,.4).mul(d).mul(t)))),v=v.add(u(e.add(vec2(.29,.29).mul(d).mul(c)))),v=v.add(u(e.add(vec2(.4,0).mul(d).mul(c)))),v=v.add(u(e.add(vec2(.29,-.29).mul(d).mul(c)))),v=v.add(u(e.add(vec2(0,-.4).mul(d).mul(c)))),v=v.add(u(e.add(vec2(-.29,.29).mul(d).mul(c)))),v=v.add(u(e.add(vec2(-.4,0).mul(d).mul(c)))),v=v.add(u(e.add(vec2(-.29,-.29).mul(d).mul(c)))),v=v.add(u(e.add(vec2(0,.4).mul(d).mul(c)))),v=v.div(41),v.a=1,vec4(v)}))()}}export default DepthOfFieldNode;export const dof=(d,e,u=1,a=.025,l=1)=>nodeObject(new DepthOfFieldNode(convertToTexture(d),nodeObject(e),nodeObject(u),nodeObject(a),nodeObject(l)));
//# sourceMappingURL=/sm/78fd4dbca0a2144499119ce85c8d185090d498dee8d6460d3f3c331ce382f3e4.map