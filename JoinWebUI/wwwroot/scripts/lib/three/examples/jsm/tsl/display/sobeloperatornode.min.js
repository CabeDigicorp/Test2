/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.170.0/examples/jsm/tsl/display/SobelOperatorNode.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Vector2}from"three";import{TempNode,nodeObject,Fn,NodeUpdateType,uv,uniform,convertToTexture,vec2,vec3,vec4,mat3,luminance,add}from"three/tsl";class SobelOperatorNode extends TempNode{static get type(){return"SobelOperatorNode"}constructor(e){super(),this.textureNode=e,this.updateBeforeType=NodeUpdateType.FRAME,this._invSize=uniform(new Vector2)}updateBefore(){const e=this.textureNode.value;this._invSize.value.set(1/e.image.width,1/e.image.height)}setup(){const{textureNode:e}=this,u=e.uvNode||uv(),t=u=>e.uv(u);return Fn((()=>{const e=this._invSize,m=mat3(-1,-2,-1,0,0,0,1,2,1),l=mat3(-1,0,1,-2,0,2,-1,0,1),d=luminance(t(u.add(e.mul(vec2(-1,-1)))).xyz),o=luminance(t(u.add(e.mul(vec2(-1,0)))).xyz),n=luminance(t(u.add(e.mul(vec2(-1,1)))).xyz),a=luminance(t(u.add(e.mul(vec2(0,-1)))).xyz),r=luminance(t(u.add(e.mul(vec2(0,0)))).xyz),c=luminance(t(u.add(e.mul(vec2(0,1)))).xyz),i=luminance(t(u.add(e.mul(vec2(1,-1)))).xyz),v=luminance(t(u.add(e.mul(vec2(1,0)))).xyz),s=luminance(t(u.add(e.mul(vec2(1,1)))).xyz),p=add(m[0][0].mul(d),m[1][0].mul(a),m[2][0].mul(i),m[0][1].mul(o),m[1][1].mul(r),m[2][1].mul(v),m[0][2].mul(n),m[1][2].mul(c),m[2][2].mul(s)),x=add(l[0][0].mul(d),l[1][0].mul(a),l[2][0].mul(i),l[0][1].mul(o),l[1][1].mul(r),l[2][1].mul(v),l[0][2].mul(n),l[1][2].mul(c),l[2][2].mul(s)),y=p.mul(p).add(x.mul(x)).sqrt();return vec4(vec3(y),1)}))()}}export default SobelOperatorNode;export const sobel=e=>nodeObject(new SobelOperatorNode(convertToTexture(e)));
//# sourceMappingURL=/sm/f7d00f080949bcb890082001f13f932eb4d275b982ebc2e62a5578d938d8589c.map