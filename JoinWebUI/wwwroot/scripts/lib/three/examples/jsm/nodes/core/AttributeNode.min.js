/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.160.1/examples/jsm/nodes/core/AttributeNode.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Node,{addNodeClass}from"./Node.js";import{varying}from"./VaryingNode.js";import{nodeObject}from"../shadernode/ShaderNode.js";class AttributeNode extends Node{constructor(t,e=null){super(e),this._attributeName=t}isGlobal(){return!0}getHash(t){return this.getAttributeName(t)}getNodeType(t){let e=super.getNodeType(t);if(null===e){const r=this.getAttributeName(t);if(t.hasGeometryAttribute(r)){const o=t.geometry.getAttribute(r);e=t.getTypeFromAttribute(o)}else e="float"}return e}setAttributeName(t){return this._attributeName=t,this}getAttributeName(){return this._attributeName}generate(t){const e=this.getAttributeName(t),r=this.getNodeType(t);if(!0===t.hasGeometryAttribute(e)){const o=t.geometry.getAttribute(e),i=t.getTypeFromAttribute(o),u=t.getAttribute(e,i);if("vertex"===t.shaderStage)return t.format(u.name,i,r);return varying(this).build(t,r)}return console.warn(`AttributeNode: Attribute "${e}" not found.`),t.generateConst(r)}}export default AttributeNode;export const attribute=(t,e)=>nodeObject(new AttributeNode(t,e));addNodeClass("AttributeNode",AttributeNode);
//# sourceMappingURL=/sm/d58d3aa171c17fc5b297390b2b59bcc311ed6f4cd9e59182c3e665bc821bc26a.map