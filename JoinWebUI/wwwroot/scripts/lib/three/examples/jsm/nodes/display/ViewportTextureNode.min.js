/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.160.1/examples/jsm/nodes/display/ViewportTextureNode.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import TextureNode from"../accessors/TextureNode.js";import{NodeUpdateType}from"../core/constants.js";import{addNodeClass}from"../core/Node.js";import{addNodeElement,nodeProxy}from"../shadernode/ShaderNode.js";import{viewportTopLeft}from"./ViewportNode.js";import{Vector2,FramebufferTexture,LinearMipmapLinearFilter}from"three";const _size=new Vector2;class ViewportTextureNode extends TextureNode{constructor(e=viewportTopLeft,t=null,r=null){null===r&&((r=new FramebufferTexture).minFilter=LinearMipmapLinearFilter),super(r,e,t),this.generateMipmaps=!1,this.isOutputTextureNode=!0,this.updateBeforeType=NodeUpdateType.FRAME}updateBefore(e){const t=e.renderer;t.getDrawingBufferSize(_size);const r=this.value;r.image.width===_size.width&&r.image.height===_size.height||(r.image.width=_size.width,r.image.height=_size.height,r.needsUpdate=!0);const o=r.generateMipmaps;r.generateMipmaps=this.generateMipmaps,t.copyFramebufferToTexture(r),r.generateMipmaps=o}clone(){return new this.constructor(this.uvNode,this.levelNode,this.value)}}export default ViewportTextureNode;export const viewportTexture=nodeProxy(ViewportTextureNode);export const viewportMipTexture=nodeProxy(ViewportTextureNode,null,null,{generateMipmaps:!0});addNodeElement("viewportTexture",viewportTexture),addNodeElement("viewportMipTexture",viewportMipTexture),addNodeClass("ViewportTextureNode",ViewportTextureNode);
//# sourceMappingURL=/sm/40ca932c204f49a063e2f6a838f2c40167407a42dd0b59d028aef23f38795720.map