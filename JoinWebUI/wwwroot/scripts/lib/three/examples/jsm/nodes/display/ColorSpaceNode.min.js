/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.160.1/examples/jsm/nodes/display/ColorSpaceNode.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import TempNode from"../core/TempNode.js";import{mix}from"../math/MathNode.js";import{addNodeClass}from"../core/Node.js";import{addNodeElement,tslFn,nodeObject,nodeProxy,vec4}from"../shadernode/ShaderNode.js";import{LinearSRGBColorSpace,SRGBColorSpace}from"three";const sRGBToLinearShader=tslFn((e=>{const{value:o}=e,{rgb:r}=o,a=r.mul(.9478672986).add(.0521327014).pow(2.4),d=r.mul(.0773993808),n=r.lessThanEqual(.04045),t=mix(a,d,n);return vec4(t,o.a)})),LinearTosRGBShader=tslFn((e=>{const{value:o}=e,{rgb:r}=o,a=r.pow(.41666).mul(1.055).sub(.055),d=r.mul(12.92),n=r.lessThanEqual(.0031308),t=mix(a,d,n);return vec4(t,o.a)})),getColorSpaceMethod=e=>{let o=null;return e===LinearSRGBColorSpace?o="Linear":e===SRGBColorSpace&&(o="sRGB"),o},getMethod=(e,o)=>getColorSpaceMethod(e)+"To"+getColorSpaceMethod(o);class ColorSpaceNode extends TempNode{constructor(e,o){super("vec4"),this.method=e,this.node=o}setup(){const{method:e,node:o}=this;return e===ColorSpaceNode.LINEAR_TO_LINEAR?o:Methods[e]({value:o})}}ColorSpaceNode.LINEAR_TO_LINEAR="LinearToLinear",ColorSpaceNode.LINEAR_TO_sRGB="LinearTosRGB",ColorSpaceNode.sRGB_TO_LINEAR="sRGBToLinear";const Methods={[ColorSpaceNode.LINEAR_TO_sRGB]:LinearTosRGBShader,[ColorSpaceNode.sRGB_TO_LINEAR]:sRGBToLinearShader};export default ColorSpaceNode;export const linearToColorSpace=(e,o)=>nodeObject(new ColorSpaceNode(getMethod(LinearSRGBColorSpace,o),nodeObject(e)));export const colorSpaceToLinear=(e,o)=>nodeObject(new ColorSpaceNode(getMethod(o,LinearSRGBColorSpace),nodeObject(e)));export const linearTosRGB=nodeProxy(ColorSpaceNode,ColorSpaceNode.LINEAR_TO_sRGB);export const sRGBToLinear=nodeProxy(ColorSpaceNode,ColorSpaceNode.sRGB_TO_LINEAR);addNodeElement("linearTosRGB",linearTosRGB),addNodeElement("sRGBToLinear",sRGBToLinear),addNodeElement("linearToColorSpace",linearToColorSpace),addNodeElement("colorSpaceToLinear",colorSpaceToLinear),addNodeClass("ColorSpaceNode",ColorSpaceNode);
//# sourceMappingURL=/sm/dfb52a35c22453cdf2a918e846bd3359b2e85ad072221990c092222b4ccfb70f.map