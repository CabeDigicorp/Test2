/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.160.1/examples/jsm/nodes/geometry/RangeNode.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Node,{addNodeClass}from"../core/Node.js";import{getValueType}from"../core/NodeUtils.js";import{buffer}from"../accessors/BufferNode.js";import{instanceIndex}from"../core/IndexNode.js";import{nodeProxy,float}from"../shadernode/ShaderNode.js";import{Vector4,MathUtils}from"three";let min=null,max=null;class RangeNode extends Node{constructor(e=float(),t=float()){super(),this.minNode=e,this.maxNode=t}getVectorLength(e){const t=e.getTypeLength(getValueType(this.minNode.value)),o=e.getTypeLength(getValueType(this.maxNode.value));return t>o?t:o}getNodeType(e){return!0===e.object.isInstancedMesh?e.getTypeFromLength(this.getVectorLength(e)):"float"}setup(e){const t=e.object;let o=null;if(!0===t.isInstancedMesh){const n=this.minNode.value,a=this.maxNode.value,r=e.getTypeLength(getValueType(n)),s=e.getTypeLength(getValueType(a));min=min||new Vector4,max=max||new Vector4,min.setScalar(0),max.setScalar(0),1===r?min.setScalar(n):n.isColor?min.set(n.r,n.g,n.b):min.set(n.x,n.y,n.z||0,n.w||0),1===s?max.setScalar(a):a.isColor?max.set(a.r,a.g,a.b):max.set(a.x,a.y,a.z||0,a.w||0);const l=4,d=l*t.count,m=new Float32Array(d);for(let e=0;e<d;e++){const t=e%l,o=min.getComponent(t),n=max.getComponent(t);m[e]=MathUtils.lerp(o,n,Math.random())}const i=this.getNodeType(e);o=buffer(m,"vec4",t.count).element(instanceIndex).convert(i)}else o=float(0);return o}}export default RangeNode;export const range=nodeProxy(RangeNode);addNodeClass("RangeNode",RangeNode);
//# sourceMappingURL=/sm/64174bb0ccdc1fee196a889b38f9645775f3c502e9562d3e005b8f33d2a83606.map