/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.160.1/examples/jsm/nodes/accessors/TextureBicubicNode.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import TempNode from"../core/TempNode.js";import{addNodeClass}from"../core/Node.js";import{add,mul,div}from"../math/OperatorNode.js";import{floor,ceil,fract,pow}from"../math/MathNode.js";import{nodeProxy,addNodeElement,float,vec2,vec4,int}from"../shadernode/ShaderNode.js";const bC=1/6,w0=d=>mul(bC,mul(d,mul(d,d.negate().add(3)).sub(3)).add(1)),w1=d=>mul(bC,mul(d,mul(d,mul(3,d).sub(6))).add(4)),w2=d=>mul(bC,mul(d,mul(d,mul(-3,d).add(3)).add(3)).add(1)),w3=d=>mul(bC,pow(d,3)),g0=d=>w0(d).add(w1(d)),g1=d=>w2(d).add(w3(d)),h0=d=>add(-1,w1(d).div(w0(d).add(w1(d)))),h1=d=>add(1,w3(d).div(w2(d).add(w3(d)))),bicubic=(d,e,u)=>{const o=d.uvNode,t=mul(o,e.zw).add(.5),c=floor(t),i=fract(t),r=g0(i.x),l=g1(i.x),a=h0(i.x),m=h1(i.x),s=h0(i.y),b=h1(i.y),x=vec2(c.x.add(a),c.y.add(s)).sub(.5).mul(e.xy),v=vec2(c.x.add(m),c.y.add(s)).sub(.5).mul(e.xy),N=vec2(c.x.add(a),c.y.add(b)).sub(.5).mul(e.xy),n=vec2(c.x.add(m),c.y.add(b)).sub(.5).mul(e.xy),h=g0(i.y).mul(add(r.mul(d.uv(x).level(u)),l.mul(d.uv(v).level(u)))),w=g1(i.y).mul(add(r.mul(d.uv(N).level(u)),l.mul(d.uv(n).level(u))));return h.add(w)},textureBicubicMethod=(d,e)=>{const u=vec2(d.size(int(e))),o=vec2(d.size(int(e.add(1)))),t=div(1,u),c=div(1,o),i=bicubic(d,vec4(t,u),floor(e)),r=bicubic(d,vec4(c,o),ceil(e));return fract(e).mix(i,r)};class TextureBicubicNode extends TempNode{constructor(d,e=float(3)){super("vec4"),this.textureNode=d,this.blurNode=e}setup(){return textureBicubicMethod(this.textureNode,this.blurNode)}}export default TextureBicubicNode;export const textureBicubic=nodeProxy(TextureBicubicNode);addNodeElement("bicubic",textureBicubic),addNodeClass("TextureBicubicNode",TextureBicubicNode);
//# sourceMappingURL=/sm/94946f94292e2476b332212f12edb9e4aa0f0287848d403fddfbb42fca9c9d90.map