/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.160.1/examples/jsm/nodes/accessors/NormalNode.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Node,{addNodeClass}from"../core/Node.js";import{attribute}from"../core/AttributeNode.js";import{varying}from"../core/VaryingNode.js";import{property}from"../core/PropertyNode.js";import{normalize}from"../math/MathNode.js";import{cameraViewMatrix}from"./CameraNode.js";import{modelNormalMatrix}from"./ModelNode.js";import{nodeImmutable}from"../shadernode/ShaderNode.js";class NormalNode extends Node{constructor(o=NormalNode.LOCAL){super("vec3"),this.scope=o}isGlobal(){return!0}getHash(){return`normal-${this.scope}`}generate(o){const e=this.scope;let r=null;if(e===NormalNode.GEOMETRY)r=attribute("normal","vec3");else if(e===NormalNode.LOCAL)r=varying(normalGeometry);else if(e===NormalNode.VIEW){const o=modelNormalMatrix.mul(normalLocal);r=normalize(varying(o))}else if(e===NormalNode.WORLD){const o=normalView.transformDirection(cameraViewMatrix);r=normalize(varying(o))}return r.build(o,this.getNodeType(o))}serialize(o){super.serialize(o),o.scope=this.scope}deserialize(o){super.deserialize(o),this.scope=o.scope}}NormalNode.GEOMETRY="geometry",NormalNode.LOCAL="local",NormalNode.VIEW="view",NormalNode.WORLD="world";export default NormalNode;export const normalGeometry=nodeImmutable(NormalNode,NormalNode.GEOMETRY);export const normalLocal=nodeImmutable(NormalNode,NormalNode.LOCAL).temp("Normal");export const normalView=nodeImmutable(NormalNode,NormalNode.VIEW);export const normalWorld=nodeImmutable(NormalNode,NormalNode.WORLD);export const transformedNormalView=property("vec3","TransformedNormalView");export const transformedNormalWorld=transformedNormalView.transformDirection(cameraViewMatrix).normalize();export const transformedClearcoatNormalView=property("vec3","TransformedClearcoatNormalView");addNodeClass("NormalNode",NormalNode);
//# sourceMappingURL=/sm/2789b1ead2fd9562b5b84410ad85aecdf0f14fddc3d453d5579db7b2178dfec4.map