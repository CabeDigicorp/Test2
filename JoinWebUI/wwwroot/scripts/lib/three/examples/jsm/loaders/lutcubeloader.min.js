/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.170.0/examples/jsm/loaders/LUTCubeLoader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{ClampToEdgeWrapping,Data3DTexture,FileLoader,FloatType,LinearFilter,Loader,UnsignedByteType,Vector3}from"three";export class LUTCubeLoader extends Loader{constructor(e){super(e),this.type=UnsignedByteType}setType(e){if(e!==UnsignedByteType&&e!==FloatType)throw new Error("LUTCubeLoader: Unsupported type");return this.type=e,this}load(e,t,r,n){const a=new FileLoader(this.manager);a.setPath(this.path),a.setResponseType("text"),a.load(e,(r=>{try{t(this.parse(r))}catch(t){n?n(t):console.error(t),this.manager.itemError(e)}}),r,n)}parse(e){const t=/^([\d.e+-]+) +([\d.e+-]+) +([\d.e+-]+) *$/gm;let r=/TITLE +"([^"]*)"/.exec(e);const n=null!==r?r[1]:null;if(r=/LUT_3D_SIZE +(\d+)/.exec(e),null===r)throw new Error("LUTCubeLoader: Missing LUT_3D_SIZE information");const a=Number(r[1]),i=a**3*4,o=this.type===UnsignedByteType?new Uint8Array(i):new Float32Array(i),p=new Vector3(0,0,0),s=new Vector3(1,1,1);if(r=/DOMAIN_MIN +([\d.]+) +([\d.]+) +([\d.]+)/.exec(e),null!==r&&p.set(Number(r[1]),Number(r[2]),Number(r[3])),r=/DOMAIN_MAX +([\d.]+) +([\d.]+) +([\d.]+)/.exec(e),null!==r&&s.set(Number(r[1]),Number(r[2]),Number(r[3])),p.x>s.x||p.y>s.y||p.z>s.z)throw new Error("LUTCubeLoader: Invalid input domain");const d=this.type===UnsignedByteType?255:1;let l=0;for(;null!==(r=t.exec(e));)o[l++]=Number(r[1])*d,o[l++]=Number(r[2])*d,o[l++]=Number(r[3])*d,o[l++]=d;const m=new Data3DTexture;return m.image.data=o,m.image.width=a,m.image.height=a,m.image.depth=a,m.type=this.type,m.magFilter=LinearFilter,m.minFilter=LinearFilter,m.wrapS=ClampToEdgeWrapping,m.wrapT=ClampToEdgeWrapping,m.wrapR=ClampToEdgeWrapping,m.generateMipmaps=!1,m.needsUpdate=!0,{title:n,size:a,domainMin:p,domainMax:s,texture3D:m}}}
//# sourceMappingURL=/sm/2d56a608704adb420374934cb342d138b7e261c103cb638b31a56fc92495578b.map