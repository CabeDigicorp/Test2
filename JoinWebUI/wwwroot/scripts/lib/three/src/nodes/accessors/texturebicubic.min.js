/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.170.0/src/nodes/accessors/TextureBicubic.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{add,mul,div}from"../math/OperatorNode.js";import{floor,ceil,fract,pow}from"../math/MathNode.js";import{Fn,float,vec2,vec4,int}from"../tsl/TSLBase.js";const bC=1/6,w0=d=>mul(bC,mul(d,mul(d,d.negate().add(3)).sub(3)).add(1)),w1=d=>mul(bC,mul(d,mul(d,mul(3,d).sub(6))).add(4)),w2=d=>mul(bC,mul(d,mul(d,mul(-3,d).add(3)).add(3)).add(1)),w3=d=>mul(bC,pow(d,3)),g0=d=>w0(d).add(w1(d)),g1=d=>w2(d).add(w3(d)),h0=d=>add(-1,w1(d).div(w0(d).add(w1(d)))),h1=d=>add(1,w3(d).div(w2(d).add(w3(d)))),bicubic=(d,u,l)=>{const a=d.uvNode,e=mul(a,u.zw).add(.5),m=floor(e),c=fract(e),t=g0(c.x),o=g1(c.x),i=h0(c.x),v=h1(c.x),r=h0(c.y),b=h1(c.y),s=vec2(m.x.add(i),m.y.add(r)).sub(.5).mul(u.xy),w=vec2(m.x.add(v),m.y.add(r)).sub(.5).mul(u.xy),x=vec2(m.x.add(i),m.y.add(b)).sub(.5).mul(u.xy),n=vec2(m.x.add(v),m.y.add(b)).sub(.5).mul(u.xy),y=g0(c.y).mul(add(t.mul(d.uv(s).level(l)),o.mul(d.uv(w).level(l)))),f=g1(c.y).mul(add(t.mul(d.uv(x).level(l)),o.mul(d.uv(n).level(l))));return y.add(f)};export const textureBicubic=Fn((([d,u=float(3)])=>{const l=vec2(d.size(int(u))),a=vec2(d.size(int(u.add(1)))),e=div(1,l),m=div(1,a),c=bicubic(d,vec4(e,l),floor(u)),t=bicubic(d,vec4(m,a),ceil(u));return fract(u).mix(c,t)}));
//# sourceMappingURL=/sm/9f022d24f198d3a927c9cdb9cc8bbc23d03283a30bca0b820a8e1f1cc597e440.map