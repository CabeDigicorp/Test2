/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.170.0/src/nodes/math/ConditionalNode.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Node from"../core/Node.js";import{property}from"../core/PropertyNode.js";import{addMethodChaining,nodeProxy}from"../tsl/TSLCore.js";class ConditionalNode extends Node{static get type(){return"ConditionalNode"}constructor(e,o,t=null){super(),this.condNode=e,this.ifNode=o,this.elseNode=t}getNodeType(e){const o=this.ifNode.getNodeType(e);if(null!==this.elseNode){const t=this.elseNode.getNodeType(e);if(e.getTypeLength(t)>e.getTypeLength(o))return t}return o}setup(e){const o=this.condNode.cache(),t=this.ifNode.cache(),d=this.elseNode?this.elseNode.cache():null,n=e.context.nodeBlock;e.getDataFromNode(t).parentNodeBlock=n,null!==d&&(e.getDataFromNode(d).parentNodeBlock=n);const r=e.getNodeProperties(this);r.condNode=o,r.ifNode=t.context({nodeBlock:t}),r.elseNode=d?d.context({nodeBlock:d}):null}generate(e,o){const t=this.getNodeType(e),d=e.getDataFromNode(this);if(void 0!==d.nodeProperty)return d.nodeProperty;const{condNode:n,ifNode:r,elseNode:l}=e.getNodeProperties(this),i="void"!==o,s=i?property(t).build(e):"";d.nodeProperty=s;const a=n.build(e,"bool");e.addFlowCode(`\n${e.tab}if ( ${a} ) {\n\n`).addFlowTab();let c=r.build(e,t);if(c&&(c=i?s+" = "+c+";":"return "+c+";"),e.removeFlowTab().addFlowCode(e.tab+"\t"+c+"\n\n"+e.tab+"}"),null!==l){e.addFlowCode(" else {\n\n").addFlowTab();let o=l.build(e,t);o&&(o=i?s+" = "+o+";":"return "+o+";"),e.removeFlowTab().addFlowCode(e.tab+"\t"+o+"\n\n"+e.tab+"}\n\n")}else e.addFlowCode("\n\n");return e.format(s,t,o)}}export default ConditionalNode;export const select=nodeProxy(ConditionalNode);addMethodChaining("select",select);export const cond=(...e)=>(console.warn("TSL.ConditionalNode: cond() has been renamed to select()."),select(...e));addMethodChaining("cond",cond);
//# sourceMappingURL=/sm/fe8dca8863b00343837bcf17218d968dd1c03827c72d64a8932cec87bc5312ff.map