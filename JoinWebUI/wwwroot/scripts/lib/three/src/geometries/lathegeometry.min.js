/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.170.0/src/geometries/LatheGeometry.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Float32BufferAttribute}from"../core/BufferAttribute.js";import{BufferGeometry}from"../core/BufferGeometry.js";import{Vector3}from"../math/Vector3.js";import{Vector2}from"../math/Vector2.js";import*as MathUtils from"../math/MathUtils.js";class LatheGeometry extends BufferGeometry{constructor(t=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],e=12,r=0,o=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:o},e=Math.floor(e),o=MathUtils.clamp(o,0,2*Math.PI);const s=[],h=[],n=[],a=[],i=[],c=1/e,p=new Vector3,u=new Vector2,m=new Vector3,f=new Vector3,y=new Vector3;let l=0,x=0;for(let e=0;e<=t.length-1;e++)switch(e){case 0:l=t[e+1].x-t[e].x,x=t[e+1].y-t[e].y,m.x=1*x,m.y=-l,m.z=0*x,y.copy(m),m.normalize(),a.push(m.x,m.y,m.z);break;case t.length-1:a.push(y.x,y.y,y.z);break;default:l=t[e+1].x-t[e].x,x=t[e+1].y-t[e].y,m.x=1*x,m.y=-l,m.z=0*x,f.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),a.push(m.x,m.y,m.z),y.copy(f)}for(let s=0;s<=e;s++){const m=r+s*c*o,f=Math.sin(m),y=Math.cos(m);for(let r=0;r<=t.length-1;r++){p.x=t[r].x*f,p.y=t[r].y,p.z=t[r].x*y,h.push(p.x,p.y,p.z),u.x=s/e,u.y=r/(t.length-1),n.push(u.x,u.y);const o=a[3*r+0]*f,c=a[3*r+1],m=a[3*r+0]*y;i.push(o,c,m)}}for(let r=0;r<e;r++)for(let e=0;e<t.length-1;e++){const o=e+r*t.length,h=o,n=o+t.length,a=o+t.length+1,i=o+1;s.push(h,n,i),s.push(a,i,n)}this.setIndex(s),this.setAttribute("position",new Float32BufferAttribute(h,3)),this.setAttribute("uv",new Float32BufferAttribute(n,2)),this.setAttribute("normal",new Float32BufferAttribute(i,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new LatheGeometry(t.points,t.segments,t.phiStart,t.phiLength)}}export{LatheGeometry};
//# sourceMappingURL=/sm/8e6a461384c4b3e80192413ac77c7b9c839c02ed669bd9dd342f5a6151c508b9.map