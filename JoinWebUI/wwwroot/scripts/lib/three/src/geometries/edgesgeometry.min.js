/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.170.0/src/geometries/EdgesGeometry.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{BufferGeometry}from"../core/BufferGeometry.js";import{Float32BufferAttribute}from"../core/BufferAttribute.js";import*as MathUtils from"../math/MathUtils.js";import{Triangle}from"../math/Triangle.js";import{Vector3}from"../math/Vector3.js";const _v0=new Vector3,_v1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(t=null,r=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:r},null!==t){const e=4,o=Math.pow(10,e),n=Math.cos(MathUtils.DEG2RAD*r),a=t.getIndex(),i=t.getAttribute("position"),s=a?a.count:i.count,u=[0,0,0],f=["a","b","c"],m=new Array(3),l={},h=[];for(let t=0;t<s;t+=3){a?(u[0]=a.getX(t),u[1]=a.getX(t+1),u[2]=a.getX(t+2)):(u[0]=t,u[1]=t+1,u[2]=t+2);const{a:r,b:e,c:s}=_triangle;if(r.fromBufferAttribute(i,u[0]),e.fromBufferAttribute(i,u[1]),s.fromBufferAttribute(i,u[2]),_triangle.getNormal(_normal),m[0]=`${Math.round(r.x*o)},${Math.round(r.y*o)},${Math.round(r.z*o)}`,m[1]=`${Math.round(e.x*o)},${Math.round(e.y*o)},${Math.round(e.z*o)}`,m[2]=`${Math.round(s.x*o)},${Math.round(s.y*o)},${Math.round(s.z*o)}`,m[0]!==m[1]&&m[1]!==m[2]&&m[2]!==m[0])for(let t=0;t<3;t++){const r=(t+1)%3,e=m[t],o=m[r],a=_triangle[f[t]],i=_triangle[f[r]],s=`${e}_${o}`,c=`${o}_${e}`;c in l&&l[c]?(_normal.dot(l[c].normal)<=n&&(h.push(a.x,a.y,a.z),h.push(i.x,i.y,i.z)),l[c]=null):s in l||(l[s]={index0:u[t],index1:u[r],normal:_normal.clone()})}}for(const t in l)if(l[t]){const{index0:r,index1:e}=l[t];_v0.fromBufferAttribute(i,r),_v1.fromBufferAttribute(i,e),h.push(_v0.x,_v0.y,_v0.z),h.push(_v1.x,_v1.y,_v1.z)}this.setAttribute("position",new Float32BufferAttribute(h,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}export{EdgesGeometry};
//# sourceMappingURL=/sm/3011ba59988a7ba2daeecce816973f2b89b32514759290b6c16d14cf9415b168.map