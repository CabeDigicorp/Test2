/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.170.0/src/renderers/common/RenderObjects.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import ChainMap from"./ChainMap.js";import RenderObject from"./RenderObject.js";const chainArray=[];class RenderObjects{constructor(e,i,t,n,s,r){this.renderer=e,this.nodes=i,this.geometries=t,this.pipelines=n,this.bindings=s,this.info=r,this.chainMaps={}}get(e,i,t,n,s,r,a){const h=this.getChainMap(a);chainArray[0]=e,chainArray[1]=i,chainArray[2]=r,chainArray[3]=s;let c=h.get(chainArray);return void 0===c?(c=this.createRenderObject(this.nodes,this.geometries,this.renderer,e,i,t,n,s,r,a),h.set(chainArray,c)):(c.updateClipping(r.clippingContext),(c.version!==i.version||c.needsUpdate)&&(c.initialCacheKey!==c.getCacheKey()?(c.dispose(),c=this.get(e,i,t,n,s,r,a)):c.version=i.version)),c}getChainMap(e="default"){return this.chainMaps[e]||(this.chainMaps[e]=new ChainMap)}dispose(){this.chainMaps={}}createRenderObject(e,i,t,n,s,r,a,h,c,d){const o=this.getChainMap(d),p=new RenderObject(e,i,t,n,s,r,a,h,c);return p.onDispose=()=>{this.pipelines.delete(p),this.bindings.delete(p),this.nodes.delete(p),o.delete(p.getChainArray())},p}}export default RenderObjects;
//# sourceMappingURL=/sm/1db672c83aa804f06837d913192e62906b76fb03c210eb145fbaf261181e401f.map