/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.170.0/src/renderers/common/Attributes.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import DataMap from"./DataMap.js";import{AttributeType}from"./Constants.js";import{DynamicDrawUsage}from"../../constants.js";class Attributes extends DataMap{constructor(t){super(),this.backend=t}delete(t){const e=super.delete(t);return void 0!==e&&this.backend.destroyAttribute(t),e}update(t,e){const r=this.get(t);if(void 0===r.version)e===AttributeType.VERTEX?this.backend.createAttribute(t):e===AttributeType.INDEX?this.backend.createIndexAttribute(t):e===AttributeType.STORAGE?this.backend.createStorageAttribute(t):e===AttributeType.INDIRECT&&this.backend.createIndirectStorageAttribute(t),r.version=this._getBufferAttribute(t).version;else{const e=this._getBufferAttribute(t);(r.version<e.version||e.usage===DynamicDrawUsage)&&(this.backend.updateAttribute(t),r.version=e.version)}}_getBufferAttribute(t){return t.isInterleavedBufferAttribute&&(t=t.data),t}}export default Attributes;
//# sourceMappingURL=/sm/5124890f4799a1cd57677c75d2db216f591b547d0abfbc06fe106f25cca1b1a4.map