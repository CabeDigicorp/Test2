/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/three@0.170.0/src/loaders/ImageLoader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Cache}from"./Cache.js";import{Loader}from"./Loader.js";import{createElementNS}from"../utils.js";class ImageLoader extends Loader{constructor(e){super(e)}load(e,r,t,a){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,n=Cache.get(e);if(void 0!==n)return i.manager.itemStart(e),setTimeout((function(){r&&r(n),i.manager.itemEnd(e)}),0),n;const o=createElementNS("img");function s(){d(),Cache.add(e,this),r&&r(this),i.manager.itemEnd(e)}function m(r){d(),a&&a(r),i.manager.itemError(e),i.manager.itemEnd(e)}function d(){o.removeEventListener("load",s,!1),o.removeEventListener("error",m,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",m,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}export{ImageLoader};
//# sourceMappingURL=/sm/34e35b853865d4f3d33ab032af3d63ad089f6edc3776f15566688976ffa06d70.map